{% extends "admin/base.html" %}

{% block title %}Editar Pedido - TecnoHub{% endblock %}

{% block content %}
<div class="container px-4 py-8 mx-auto">
    <h1 class="mb-8 text-3xl font-bold text-center">Editar Pedido</h1>

    <form id="editar-pedido-form" action="{{ url_for('admin.admin_editar_pedido', id=pedido.id) }}" method="post"
        class="max-w-xl mx-auto">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        <div class="mb-4">
            <label for="usuario_id" class="block mb-2 text-sm font-medium">ID del Usuario</label>
            <input type="text" id="usuario_id" name="usuario_id" value="{{ pedido.usuario_id }}" readonly
                class="w-full px-3 py-2 border border-gray-600 rounded-md bg-white-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div class="mb-4">
            <label for="calle" class="block mb-2 text-sm font-medium">Direccion</label>
            <input type="text" id="calle" name="calle" value="{{ pedido.direccion }}" required
                class="w-full px-3 py-2 border border-gray-600 rounded-md bg-white-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div class="mb-4">
            <label for="ciudad" class="block mb-2 text-sm font-medium">Ciudad</label>
            <input type="text" id="ciudad" name="ciudad" value="{{ pedido.ciudad }}" required
                class="w-full px-3 py-2 border border-gray-600 rounded-md bg-white-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div class="mb-4">
            <label for="estado" class="block mb-2 text-sm font-medium">Estado</label>
            <input type="text" id="estado" name="estado" value="{{ pedido.direccion_estado }}" required
                class="w-full px-3 py-2 border border-gray-600 rounded-md bg-white-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div class="mb-4">
            <label for="pais" class="block mb-2 text-sm font-medium">Pa√≠s</label>
            <input type="text" id="pais" name="pais" value="{{ pedido.pais }}" required
                class="w-full px-3 py-2 border border-gray-600 rounded-md bg-white-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>
        <div class="mb-4">
            <label for="fecha_pedido" class="block mb-2 text-sm font-medium">Fecha del Pedido</label>
            <input type="date" id="fecha_pedido" name="fecha_pedido"
                value="{{ pedido.fecha_pedido.strftime('%Y-%m-%d') }}" required
                class="w-full px-3 py-2 border border-gray-600 rounded-md bg-white-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
            <div class="mb-4">
                <label for="estado_pedido" class="block mb-2 text-sm font-medium">Estado</label>
                <select id="estado_pedido" name="estado_pedido" required
                    class="w-full px-3 py-2 border border-gray-600 rounded-md bg-white-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="pendiente" {% if pedido.estado=='pendiente' %}selected{% endif %}>Pendiente</option>
                    <option value="enviado" {% if pedido.estado=='enviado' %}selected{% endif %}>Enviado</option>
                    <option value="entregado" {% if pedido.estado=='entregado' %}selected{% endif %}>Entregado</option>
                </select>
            </div>
            <div class="flex justify-between">
                <a href="{{ url_for('admin.admin_pedidos') }}"
                    class="px-4 py-2 font-bold text-white transition-colors duration-300 bg-gray-600 rounded-full hover:bg-gray-700">
                    Cancelar
                </a>
                <button id="btn-guardar-cambios" type="submit"
                    class="px-4 py-2 font-bold text-white transition-colors duration-300 bg-blue-600 rounded-full hover:bg-blue-700">
                    Guardar Cambios
                </button>
            </div>
    </form>
</div>
{% endblock %}